MASTER_SYSTEM = """Ты автономный SMM-агент, управляющий тремя брендами одновременно.

ПРИНЦИПЫ РАБОТЫ:
1. НАПРАВЛЕНИЕ ВАЖНЕЕ КОЛИЧЕСТВА — лучше один сильный пост, чем 7 слабых.
2. СТРОГОЕ СОБЛЮДЕНИЕ ГОЛОСА БРЕНДА — никогда не смешивай голоса проектов.
3. ОБУЧЕНИЕ НА РЕЗУЛЬТАТАХ — анализируй Knowledge Base, применяй выводы.
4. ФИЛЬТР ТРЕНДОВ — не каждый тренд подходит каждому проекту.
5. НЕТ ШАБЛОНАМ — чередуй форматы: кейс, инсайт, обучение, история, данные, вопрос."""


POST_GENERATION = """Создай пост для {platform}.

ПРОЕКТ: {project_name}
ГОЛОС: {voice}
ЯЗЫК: {language}
АУДИТОРИЯ: {audience}
ЦЕЛЬ: {goal}
ТЕМЫ: {topics}
ЗАПРЕЩЕНО: {forbidden}

ТРЕНД ДНЯ: {trend}
ИДЕЯ: {idea}

БАЗА ЗНАНИЙ (что работало / не работало раньше):
{insights}

ИСТОРИЯ ПОСЛЕДНИХ ПОСТОВ (последние 5):
{recent_posts}

ИНСТРУКЦИЯ:
1. Прочитай базу знаний. Определи лучший формат и темы.
2. Проверь тренд на релевантность. Если не подходит — используй вечнозелёную тему.
3. Выбери формат который НЕ повторяет последние 2 поста:
   Варианты: кейс | инсайт/мнение | обучение/советы | история | данные+анализ | вопрос к аудитории
4. Напиши пост строго в голосе бренда.

ТРЕБОВАНИЯ К ПЛАТФОРМЕ:
- instagram: крючок в первой строке (max 8 слов) + 150-300 слов + 10-15 хэштегов + CTA
- telegram: разговорный + эмодзи умеренно + 100-250 слов + без хэштегов
- facebook: открывающий вопрос + 200-400 слов + 3-5 хэштегов + вопрос в конце
- linkedin: сильный тезис + инсайт или кейс + 150-300 слов + 3-5 хэштегов

Верни ТОЛЬКО текст поста без объяснений."""


TREND_ANALYSIS = """Тренды дня ({count} штук):
{trends}

Проанализируй для 3 проектов и верни JSON:
{{
  "personal_brand": {{"trend": "", "idea": "", "category": ""}},
  "leader_team": {{"trend": "", "idea": "", "category": ""}},
  "pixie": {{"trend": "", "idea": "", "category": ""}}
}}

Проекты:
- personal_brand: маркетинг-эксперт, вдохновляющий тон, рус/узб аудитория
- leader_team: B2B продажи телеком оборудования, деловой
- pixie: производство телеком оборудования, технологичный

Если тренд не подходит проекту — укажи вечнозелёную тему из его ниши.
Верни ТОЛЬКО JSON."""


COMPETITOR_ANALYSIS = """Контент конкурентов ({count} постов):
{posts}

Отрасль: телекоммуникации, B2B оборудование, маркетинг (Узбекистан/СНГ)

Верни JSON анализ:
{{
  "hot_topics": ["топ темы которые они освещают"],
  "content_gaps": ["что НЕ освещают — возможность для нас"],
  "best_formats": ["форматы которые работают у них"],
  "our_opportunities": ["конкретные идеи постов для наших проектов"],
  "urgent_alert": "срочное если есть, иначе пустая строка"
}}

Верни ТОЛЬКО JSON."""


WEEKLY_REPORT = """Создай еженедельный SMM отчёт.

Период: {week_start} — {week_end}
Всего постов: {total_posts}

Статистика по проектам:
{stats}

База знаний (что работало раньше):
{insights}

Формат отчёта:
Для каждого проекта:
[Название]
- Постов: X
- Что сработало: 1 инсайт
- Рекомендация: 1 конкретное действие

ИТОГИ НЕДЕЛИ:
- Топ-3 вывода
- Фокус следующей недели

Пиши кратко, без воды."""


KB_UPDATE = """Проанализируй результаты недели и обнови базу знаний.

ОПУБЛИКОВАННЫЕ ПОСТЫ:
{posts}

ТЕКУЩАЯ БАЗА ЗНАНИЙ:
{current_knowledge}

Задача:
1. Найди успешные посты — что в них общего?
2. Найди неуспешные — почему не зашли?
3. Определи лучший формат для каждого проекта
4. Определи лучшую платформу для каждого проекта

Верни JSON:
{{
  "new_insights": [
    {{
      "project": "personal_brand | leader_team | pixie",
      "type": "best_format | avoid | best_platform | content_insight",
      "insight": "конкретный вывод в 1-2 предложениях",
      "evidence": "на каком посте основан вывод"
    }}
  ],
  "next_week_focus": {{
    "personal_brand": "на чём сосредоточиться",
    "leader_team": "на чём сосредоточиться",
    "pixie": "на чём сосредоточиться"
  }},
  "weekly_summary": "2-3 предложения — общий итог недели"
}}"""
